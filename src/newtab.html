<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="appTitle">GenresFox-NEWTAB</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="container">
        <div class="search-container fade-in delay-1">
            <div class="search-box">
                <div class="engine-selector" id="engineSelector">
                    <div class="selected-engine" id="selectedEngineIcon">
                        <!-- Icon will be injected by JS -->
                    </div>
                    <div class="engine-dropdown" id="engineDropdown">
                        <!-- Options injected by JS -->
                    </div>
                </div>
                <input id="search" type="text" data-i18n-placeholder="searchPlaceholder" placeholder="Search..."
                    autocomplete="off" />
            </div>
        </div>

        <!-- Shortcuts Grid -->
        <div id="shortcuts" class="shortcuts-grid"></div>
    </div>

    <!-- Settings Button -->
    <div class="settings-btn" id="settingsBtn">
        <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor"
                d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.58 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
        </svg>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal">
            <div class="modal-header">
                <h2 data-i18n="settingsTitle">Settings</h2>
                <button class="close-btn" id="closeSettings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="wallpaper" data-i18n="tabWallpaper">Wallpaper</button>
                    <button class="tab-btn" data-tab="search" data-i18n="tabSearch">Search & Shortcuts</button>
                    <button class="tab-btn" data-tab="about" data-i18n="tabAbout">About</button>
                </div>

                <div class="tab-content active" id="tab-wallpaper">
                    <div class="setting-group">
                        <label data-i18n="uploadWallpaper">Upload Wallpaper</label>
                        <div class="upload-zone" id="dropZone">
                            <div class="upload-content" id="uploadContent">
                                <svg viewBox="0 0 24 24" width="48" height="48">
                                    <path fill="currentColor"
                                        d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" />
                                </svg>
                                <p data-i18n="dragDropText">Drag & Drop image here or click to upload</p>
                            </div>
                            <div class="wallpaper-preview" id="wallpaperPreview" style="display: none;">
                                <img id="previewImg" src="" alt="Wallpaper Preview">
                            </div>
                            <input type="file" id="wallpaperUpload" accept="image/*" hidden>
                        </div>
                        <button id="resetWallpaper" class="btn-secondary" data-i18n="resetWallpaper">Reset to
                            Default</button>
                    </div>

                    <div class="setting-group" id="wallpaperControls" style="display: none;">
                        <h3 data-i18n="wallpaperSettings">Wallpaper Settings</h3>

                        <div class="control-item">
                            <label>
                                <span data-i18n="blurAmount">Blur Amount</span>
                                <span class="control-value" id="blurValue">0</span>
                            </label>
                            <input type="range" id="blurSlider" min="0" max="100" value="0" class="slider">
                        </div>

                        <div class="control-item">
                            <label>
                                <span data-i18n="vignetteAmount">Vignette Amount</span>
                                <span class="control-value" id="vignetteValue">0</span>
                            </label>
                            <input type="range" id="vignetteSlider" min="0" max="100" value="0" class="slider">
                        </div>
                    </div>

                    <div class="setting-group">
                        <h3 data-i18n="searchBoxSettings">Search Box Settings</h3>

                        <div class="control-item">
                            <label>
                                <span data-i18n="searchBoxWidth">Width</span>
                                <span class="control-value" id="searchWidthValue">600px</span>
                            </label>
                            <input type="range" id="searchWidthSlider" min="300" max="1000" value="600" class="slider">
                        </div>

                        <div class="control-item">
                            <label>
                                <span data-i18n="searchBoxPosition">Vertical Position</span>
                                <span class="control-value" id="searchPositionValue">40%</span>
                            </label>
                            <input type="range" id="searchPositionSlider" min="10" max="70" value="40" class="slider">
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="tab-search">
                    <div class="setting-group">
                        <h3 data-i18n="customEngines">Custom Search Engines</h3>
                        <div id="enginesList" class="list-group"></div>
                        <div class="add-form">
                            <input type="text" id="newEngineName" placeholder="Name (e.g. MySearch)">
                            <input type="text" id="newEngineUrl" placeholder="URL (e.g. https://kagi.com/search?q=%s)">
                            <button id="addEngineBtn" class="btn-primary" data-i18n="add">Add</button>
                        </div>
                    </div>
                    <div class="setting-group">
                        <h3 data-i18n="shortcuts">Shortcuts</h3>
                        <div id="shortcutsList" class="list-group"></div>
                        <div class="add-form">
                            <input type="text" id="newShortcutName" placeholder="Name">
                            <input type="text" id="newShortcutUrl" placeholder="URL (e.g. https://github.com)">
                            <button id="addShortcutBtn" class="btn-primary" data-i18n="add">Add</button>
                        </div>
                        <div style="margin-top: 16px; text-align: right;">
                            <button id="resetShortcutsBtn" class="btn-danger" data-i18n="resetShortcuts">Reset
                                Shortcuts</button>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="tab-about">
                    <div class="about-info">
                        <h3>GenresFox-NEWTAB</h3>
                        <p>Version 1.0.0</p>
                        <p>A fully open-source, extremely clean, and highly customizable new tab page extension.</p>
                        <p>&copy; 2025 zayoka. All rights reserved.</p>
                        <br>
                        <p>GenresFox-NEWTAB is an open-source project. You can find the source code on GitHub!</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js"></script>
</body>

</html>