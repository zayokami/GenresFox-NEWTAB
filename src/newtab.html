<!-- newtab.html -->
<!-- Technology that benefits everyone is truly powerful technology. -->
<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="appTitle">GenresFox-NEWTAB</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="accessibility.css">
</head>

<body>
    <!-- Main Content Container -->
    <div class="container">
        <div class="search-container fade-in delay-1">
            <div class="search-box">
                <div class="engine-selector" id="engineSelector">
                    <div class="selected-engine" id="selectedEngineIcon">
                        <!-- Icon will be injected by JS -->
                    </div>
                    <div class="engine-dropdown" id="engineDropdown">
                        <!-- Options injected by JS -->
                    </div>
                </div>
                <input id="search" type="text" data-i18n-placeholder="searchPlaceholder" placeholder="Search..."
                    autocomplete="off" autofocus />
            </div>
        </div>

        <!-- Shortcuts Grid -->
        <div id="shortcuts" class="shortcuts-grid"></div>
    </div>

    <!-- Settings Button -->
    <div class="settings-btn" id="settingsBtn">
        <svg viewBox="0 0 24 24" width="24" height="24">
            <path fill="currentColor"
                d="M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.58 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z" />
        </svg>
    </div>

    <!-- Settings Modal -->
    <div class="modal-overlay" id="settingsModal">
        <div class="modal">
            <div class="modal-header">
                <h2 data-i18n="settingsTitle">Settings</h2>
                <button class="close-btn" id="closeSettings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="tabs">
                    <button class="tab-btn active" data-tab="wallpaper" data-i18n="tabWallpaper">Wallpaper</button>
                    <button class="tab-btn" data-tab="search" data-i18n="tabSearch">Search & Shortcuts</button>
                    <button class="tab-btn" data-tab="accessibility" data-i18n="tabAccessibility">Accessibility</button>
                    <button class="tab-btn" data-tab="about" data-i18n="tabAbout">About</button>
                </div>

                <div class="tab-content active" id="tab-wallpaper">
                    <div class="setting-group">
                        <label data-i18n="uploadWallpaper">Upload Wallpaper</label>
                        <div class="upload-zone" id="dropZone">
                            <div class="upload-content" id="uploadContent">
                                <svg viewBox="0 0 24 24" width="48" height="48">
                                    <path fill="currentColor"
                                        d="M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z" />
                                </svg>
                                <p data-i18n="dragDropText">Drag & Drop image here or click to upload</p>
                            </div>
                            <div class="wallpaper-preview" id="wallpaperPreview" style="display: none;">
                                <img id="previewImg" src="" alt="Wallpaper Preview">
                                <!-- Search box preview overlay -->
                                <div class="preview-search-box" id="previewSearchBox">
                                    <div class="preview-search-inner">
                                        <span class="preview-search-icon">
                                            <svg viewBox="0 0 24 24" width="14" height="14">
                                                <path fill="currentColor" d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                                            </svg>
                                        </span>
                                        <span class="preview-search-text" data-i18n="searchPlaceholder">Search...</span>
                                    </div>
                                </div>
                                <span class="preview-hint" data-i18n="livePreview">Live Preview</span>
                            </div>
                            <input type="file" id="wallpaperUpload" accept="image/*" hidden>
                        </div>
                        <button id="resetWallpaper" class="btn-secondary" data-i18n="resetWallpaper">Reset to
                            Default</button>
                    </div>

                    <div class="setting-group" id="wallpaperControls" style="display: none;">
                        <h3 data-i18n="wallpaperSettings">Wallpaper Settings</h3>

                        <div class="control-item">
                            <label>
                                <span data-i18n="blurAmount">Blur Amount</span>
                                <span class="control-value" id="blurValue">0</span>
                            </label>
                            <input type="range" id="blurSlider" min="0" max="100" value="0" class="slider">
                        </div>

                        <div class="control-item">
                            <label>
                                <span data-i18n="vignetteAmount">Vignette Amount</span>
                                <span class="control-value" id="vignetteValue">0</span>
                            </label>
                            <input type="range" id="vignetteSlider" min="0" max="100" value="0" class="slider">
                        </div>
                    </div>

                    <div class="setting-group">
                        <h3 data-i18n="searchBoxSettings">Search Box Settings</h3>

                        <div class="control-item">
                            <label>
                                <span data-i18n="searchBoxWidth">Width</span>
                                <span class="control-value" id="searchWidthValue">600px</span>
                            </label>
                            <input type="range" id="searchWidthSlider" min="300" max="1000" value="600" class="slider">
                        </div>

                        <div class="control-item">
                            <label>
                                <span data-i18n="searchBoxPosition">Vertical Position</span>
                                <span class="control-value" id="searchPositionValue">40%</span>
                            </label>
                            <input type="range" id="searchPositionSlider" min="10" max="70" value="40" class="slider">
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="tab-search">
                    <div class="setting-group">
                        <h3 data-i18n="customEngines">Custom Search Engines</h3>
                        <div id="enginesList" class="list-group"></div>
                        <div class="add-form">
                            <input type="text" id="newEngineName" placeholder="Name (e.g. MySearch)">
                            <input type="text" id="newEngineUrl" placeholder="URL (e.g. https://kagi.com/search?q=%s)">
                            <button id="addEngineBtn" class="btn-primary" data-i18n="add">Add</button>
                        </div>
                    </div>
                    <div class="setting-group">
                        <h3 data-i18n="shortcuts">Shortcuts</h3>
                        <div id="shortcutsList" class="list-group"></div>
                        <div class="add-form">
                            <input type="text" id="newShortcutName" placeholder="Name">
                            <input type="text" id="newShortcutUrl" placeholder="URL (e.g. https://github.com)">
                            <button id="addShortcutBtn" class="btn-primary" data-i18n="add">Add</button>
                        </div>
                        <div style="margin-top: 16px; text-align: right;">
                            <button id="resetShortcutsBtn" class="btn-danger" data-i18n="resetShortcuts">Reset
                                Shortcuts</button>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="tab-accessibility">
                    <!-- Display Section -->
                    <div class="a11y-section">
                        <h4 data-i18n="a11yDisplay">Display</h4>
                        
                        <div class="a11y-control">
                            <label>
                                <span data-i18n="a11yTheme">Theme</span>
                            </label>
                            <select id="a11yTheme">
                                <option value="standard" data-i18n="a11yThemeStandard">Standard</option>
                                <option value="high-contrast-dark" data-i18n="a11yThemeHCDark">High Contrast (Dark)</option>
                                <option value="high-contrast-light" data-i18n="a11yThemeHCLight">High Contrast (Light)</option>
                                <option value="yellow-black" data-i18n="a11yThemeYellowBlack">Yellow on Black</option>
                            </select>
                        </div>

                        <div class="a11y-control">
                            <label>
                                <span data-i18n="a11yFontSize">Font Size</span>
                                <span class="control-value" id="a11yFontSizeValue">100%</span>
                            </label>
                            <input type="range" id="a11yFontSize" min="80" max="200" value="100" step="10" class="slider">
                        </div>

                        <div class="a11y-control">
                            <label>
                                <span data-i18n="a11yFontFamily">Font Family</span>
                            </label>
                            <select id="a11yFontFamily">
                                <option value="default" data-i18n="a11yFontDefault">Default</option>
                                <option value="sans" data-i18n="a11yFontSans">Sans-serif</option>
                                <option value="serif" data-i18n="a11yFontSerif">Serif</option>
                                <option value="dyslexic" data-i18n="a11yFontDyslexic">OpenDyslexic</option>
                            </select>
                        </div>

                        <div class="a11y-control">
                            <label>
                                <span data-i18n="a11yLineSpacing">Line Spacing</span>
                            </label>
                            <select id="a11yLineSpacing">
                                <option value="normal" data-i18n="a11ySpacingNormal">Normal</option>
                                <option value="relaxed" data-i18n="a11ySpacingRelaxed">Relaxed</option>
                                <option value="very-relaxed" data-i18n="a11ySpacingVeryRelaxed">Very Relaxed</option>
                            </select>
                        </div>
                    </div>

                    <!-- Motion Section -->
                    <div class="a11y-section">
                        <h4 data-i18n="a11yMotion">Motion</h4>
                        
                        <div class="a11y-control">
                            <label>
                                <span data-i18n="a11yAnimations">Animations</span>
                            </label>
                            <select id="a11yMotion">
                                <option value="full" data-i18n="a11yMotionFull">Full</option>
                                <option value="reduced" data-i18n="a11yMotionReduced">Reduced</option>
                                <option value="none" data-i18n="a11yMotionNone">None</option>
                            </select>
                        </div>
                    </div>

                    <!-- Focus Section -->
                    <div class="a11y-section">
                        <h4 data-i18n="a11yFocus">Focus</h4>
                        
                        <div class="a11y-control">
                            <label>
                                <span data-i18n="a11yFocusIndicator">Focus Indicator</span>
                            </label>
                            <select id="a11yFocusStyle">
                                <option value="standard" data-i18n="a11yFocusStandard">Standard</option>
                                <option value="enhanced" data-i18n="a11yFocusEnhanced">Enhanced</option>
                                <option value="large" data-i18n="a11yFocusLarge">Large</option>
                            </select>
                        </div>
                    </div>

                    <!-- Reset Section -->
                    <div class="a11y-section">
                        <button id="a11yReset" class="btn-secondary" data-i18n="a11yReset">Reset to Defaults</button>
                    </div>
                </div>

                <div class="tab-content" id="tab-about">
                    <div class="about-info">
                        <h3>GenresFox-NEWTAB</h3>
                        <p>Version 0.3.5</p>
                        <p data-i18n="aboutDescription">A fully open-source, extremely clean, and highly customizable new tab page extension.</p>
                        <p>&copy; 2025 zayoka. All rights reserved.</p>
                        <br>
                        <p data-i18n="aboutOpenSource">GenresFox-NEWTAB is an open-source project. You can find the source code on GitHub!</p>
                        <a href="https://github.com/zayokami/GenresFox-NEWTAB" target="_blank" class="github-btn">
                            <svg viewBox="0 0 24 24" width="16" height="16">
                                <path fill="currentColor"
                                    d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z" />
                            </svg>
                            <span data-i18n="viewOnGitHub">View on GitHub</span>
                        </a>
                    </div>

                    <div class="about-credits">
                        <h4 data-i18n="creditsTitle">Credits</h4>
                        <p data-i18n="creditsBingWallpaper">Default wallpaper powered by Bing Daily Wallpaper.</p>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <!-- Modules (must load before script.js) -->
    <script src="i18n.js"></script>
    <script src="wallpaper.js"></script>
    <script src="accessibility.js"></script>
    <script src="script.js"></script>
</body>

</html>